---
title: draft-ietf-idr-bgp-prefix-sid implementations
description: 
published: true
date: 2023-03-13T06:09:35.960Z
tags: 
editor: markdown
dateCreated: 2023-03-13T06:09:29.504Z
---

 Implementations for BGP Prefix-SID

## Rtbrick Fullstack-OS 17.2 or greater

 Hannes Gredler (hannes@rtbrick.com) 

 -   All validation rules and advertisement rules are followed.
 -   Label-Index TLV is fully supported.
 -   Originator SRGB is fully supported.
 -   IPv6 SID TLV is not supported.
 -   IPv6 Segment Routing data plane is not supported.
 -   No Interoperability testing has been done 

## Cisco NX-OS 7.0(3)I4(1) or greater

 Acee Lindem (acee@cisco.com) 

-   All validation rules and advertisement rules are followed.
-    Label-Index TLV is fully supported.
-    Originator SRGB is validated but is not used.
-    IPv6 SID TLV is validated and propagated but is not used.
-    IPv6 Segment Routing data plane is not supported.
-    Interoperability testing has been done with Cisco IOS-XR (See below) 

## Cisco IOS-XR 6.0.0 or greater

 Satya Mohanty (satyamoh@cisco.com)

 -   Basic validation and advertisement rules are followed.
 -   Label-Index TLV is fully supported.
 -   Originator SRGB is parsed and propagated but not validated or used.
 -   IPv6 SID TLV is parsed and propagated but is not validated or used.
 -   IPv6 Segment Routing data plane is not supported.
 -   Interoperability testing has been done with Cisco NX-OS (See above) 

## Cisco IOS-XE 16.6.1 (when shipped) or greater

 Krishna Devi (kdeevi@cisco.com)   

 -   Basic validation and advertisement rules are followed.
 -   Label-Index TLV is fully supported.
 -   Originator SRGB is parsed and propagated but not validated or used.
 -   IPv6 SID TLV is parsed and propagated but is not validated or used.
 -   IPv6 Segment Routing data plane is not supported.
 -   Interoperability testing has not been done with Cisco IOS-XR or NX-OS yet. 

## Summary of Implementation Features 

| section | Section descripton                  | Description                                                                                                                                                                                                                                                                                                             | implementation | support  |
|---------|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|----------|
| 3.2     | IPv6 Prefix Segment                 | If supported, Each node MUST advertise its support of Segment Routing for IPv6 dataplane                                                                                                                                                                                                                                | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.1     | Label-Index TLV                     | RESERVED field 0 on transmission, ignored on reception                                                                                                                                                                                                                                                                  | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.1     | Label-Index TLV                     | Flags field SHOULD be clear on transmission, ignored on reception                                                                                                                                                                                                                                                       | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.2     | IPv6 SID                            | RESERVED field SHOULD be 0 on transmission, ignored on reception                                                                                                                                                                                                                                                        | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.2     | IPv6 SID                            | Flags field SHOULD be clear on transmission, ignored on reception                                                                                                                                                                                                                                                       | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.3     | Originator SRGB TLV                 | Flags field SHOULD Be clear on transmission, ignored on reception                                                                                                                                                                                                                                                       | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.3     | Originator SRGB TLV                 | The SRGB field MAY appear multiple times                                                                                                                                                                                                                                                                                | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.3     | Orginator SRGB                      | The Originator SRGB TLV... MUST be kept in the Prefix-SID Attribute unchanged during the propagation of the BGP update.                                                                                                                                                                                                 | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 4.3     | Orginator SRGB                      | The  Originator SRGB TLV... May only appear on the Prefix-SID attribute  attached to prefixes of SAFI 4 (labeled unicast, [RFC3107]).                                                                                                                                                                                   | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5       | Receiving BGP-Prefix-SID attribute  | A  BGP speaker receiving a BGP Prefix-SID attribute from an EBGP neighbor  residing outside the boundaries of the SR domain, SHOULD discard the  attribute unless it is configured to accept the attribute from the EBGP  neighbor                                                                                      | Cisco NX-OS    | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | No       |
| 5       | Receiving BGP-Prefix-SID attribute  | A BGP speaker MAY log an error for further analysis when discarding an attribute.                                                                                                                                                                                                                                       | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | A BGP speaker may be locally configured with an SRGB=[GB_S, GB_E].                                                                                                                                                                                                                                                      | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | The Prefix-SID attribute MUST contain the Label-Index TLV and MAY contain the Originator SRGB TLV.                                                                                                                                                                                                                      | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | A BGP Prefix-SID attribute received without a Label-Index TLV MUST be considered as "unacceptable" by the receiving speaker.                                                                                                                                                                                            | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | When  a BGP speaker receives a path from a neighbor with an acceptable BGP  Prefix-SID attribute, it MUST program the derived label as the local  label for the prefix in its MPLS dataplane.                                                                                                                           | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | In  case of any error, a BGP speaker MUST resort to the error handling  rules specified in Section 7, and MAY log an error for further analysis.                                                                                                                                                                        | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | When  a BGP speaker receives a path from a neighbor with an unacceptable BGP  Prefix-SID attribute or when a BGP speaker receives a path from a  neighbor with a BGP-Prefix-SID attribute but is unable to process  it...it MUST treat the path as if it came without a Prefix-SID  attribute.                          | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | For  the purposes of local label allocation, a BGP speaker MUST assign a  local (also called dynamic) label (non-SRGB) for such a prefix as per  classic Multiprotocol BGP labeled IPv4/IPv6 Unicast ([RFC3107])  operation.  A BGP speaker MAY log an error for further analysis.                                      | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | A  BGP speaker receiving a prefix with a Prefix-SID attribute and a label  NLRI field of implicit-null from a neighbor MUST adhere to standard  behavior and program its MPLS dataplane to pop the top label when  forwarding traffic to the prefix.                                                                    | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.1     | Receiving BGP-Prefix-SID attribute  | The Label Index gives a hint to the receiving node on whichlocal/incoming label the BGP speaker SHOULD use.                                                                                                                                                                                                             | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
| 5.2     | IPv6 Data Plane                     | If  the IPv6 SID TLV is present and if the S-flag is not set, then the  Prefix-SID attribute MUST be considered as  'acceptable" by the  receiving speaker.                                                                                                                                                             | Cisco NX-OS    | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | No       |
| 5.2     | IPv6 Data Plane                     | The Originator SRGB MUST be ignored on reception.                                                                                                                                                                                                                                                                       | Cisco NX-OS    | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | No       |
| 5.2     | IPv6 Data Plane                     | A BGP speaker  receiving a BGP Prefix-SID attribute from an EBGP neighbor residing  outside the boundaries of the SR domain, SHOULD discard the attribute  unless it is configured to accept the attribute from the EBGP neighbor.   A BGP speaker MAY log an error for further analysis when discarding an  attribute. | Cisco NX-OS    | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | NO       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | NO       |
| 6       | Announcing BGP-Prefix-SID Attribute | The BGP Prefix-SID attribute MAY be attached to labeled BGP prefixes (IPv4/IPv6) [RFC3107] or to IPv6 prefixes [RFC4760].                                                                                                                                                                                               | Cisco NX-OS    | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | No       |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | No       |
| 6       | Announcing BGP-Prefix-SID Attribute | BGP speaker MAY log an error for further analysis when discarding an attribute.                                                                                                                                                                                                                                         | Cisco NX-OS    | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XR   | Yes      |
|         |                                     |                                                                                                                                                                                                                                                                                                                         | Cisco IOS-XE   | Yes      |
{.dense}

- Section 6.1 to 7.0 will be added later. 


&nbsp;
&nbsp;
&nbsp;

---

*The content of this page was last updated on 2017-03-23. It was migrated from the old Trac wiki on 2023-03-12.*